<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¸”ë¡œê·¸ ì„±ê³¼ë¶„ì„ ëŒ€ì‹œë³´ë“œ | 2025.04 ~ 2026.01</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
  * { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #0f1117; --card: #1a1d27; --card-hover: #222633; --border: #2a2e3b;
    --text: #e4e6ed; --text-dim: #8b8fa3; --accent: #6366f1; --accent-light: #818cf8;
    --green: #22c55e; --red: #ef4444; --orange: #f59e0b; --blue: #3b82f6;
    --purple: #a855f7; --pink: #ec4899; --cyan: #06b6d4;
  }
  body { font-family: 'Noto Sans KR', -apple-system, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; min-height: 100vh; }
  .dashboard { max-width: 1400px; margin: 0 auto; padding: 32px 24px; }
  .header { margin-bottom: 32px; text-align: center; }
  .header h1 { font-size: 28px; font-weight: 700; background: linear-gradient(135deg, var(--accent-light), var(--cyan)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
  .header .subtitle { color: var(--text-dim); font-size: 14px; font-weight: 300; }

  /* Period Selector */
  .period-selector {
    background: var(--card); border: 1px solid var(--border); border-radius: 12px;
    padding: 20px 24px; margin-bottom: 28px;
  }
  .period-selector-header {
    display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; flex-wrap: wrap; gap: 12px;
  }
  .period-selector-header h3 { font-size: 15px; font-weight: 600; display: flex; align-items: center; gap: 8px; }
  .period-selector-header h3 .icon { font-size: 18px; }
  .period-presets { display: flex; gap: 6px; flex-wrap: wrap; }
  .preset-btn {
    padding: 6px 14px; border-radius: 6px; font-size: 12px; font-weight: 500;
    cursor: pointer; border: 1px solid var(--border); background: transparent;
    color: var(--text-dim); font-family: inherit; transition: all 0.2s;
  }
  .preset-btn:hover { border-color: var(--accent); color: var(--text); }
  .preset-btn.active { background: var(--accent); border-color: var(--accent); color: #fff; }

  .month-pills { display: flex; gap: 6px; flex-wrap: wrap; }
  .month-pill {
    padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 500;
    cursor: pointer; border: 1px solid var(--border); background: transparent;
    color: var(--text-dim); font-family: inherit; transition: all 0.2s; user-select: none;
  }
  .month-pill:hover { border-color: var(--accent-light); color: var(--text); background: rgba(99,102,241,0.08); }
  .month-pill.selected { background: var(--accent); border-color: var(--accent); color: #fff; }
  .month-pill.in-range { background: rgba(99,102,241,0.15); border-color: rgba(99,102,241,0.4); color: var(--accent-light); }
  .period-info { margin-top: 12px; font-size: 12px; color: var(--text-dim); display: flex; align-items: center; gap: 6px; }
  .period-info .badge { background: rgba(99,102,241,0.2); color: var(--accent-light); padding: 2px 8px; border-radius: 4px; font-weight: 500; }

  /* KPI Cards */
  .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px; }
  .kpi-card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; transition: all 0.3s; }
  .kpi-card:hover { background: var(--card-hover); transform: translateY(-2px); }
  .kpi-card .kpi-icon { font-size: 20px; margin-bottom: 8px; }
  .kpi-label { font-size: 12px; color: var(--text-dim); letter-spacing: 0.3px; margin-bottom: 8px; }
  .kpi-value { font-size: 30px; font-weight: 700; margin-bottom: 4px; transition: all 0.3s; }
  .kpi-sub { font-size: 12px; color: var(--text-dim); margin-top: 4px; }
  .kpi-change { font-size: 13px; display: flex; align-items: center; gap: 4px; }
  .kpi-change.up { color: var(--green); } .kpi-change.down { color: var(--red); }
  .kpi-sparkline { margin-top: 12px; height: 40px; }

  /* Sections & Charts */
  .section { margin-bottom: 32px; }
  .section-title { font-size: 18px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
  .section-title .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent); }
  .chart-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
  .chart-grid.full { grid-template-columns: 1fr; }
  .chart-card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; }
  .chart-card h3 { font-size: 15px; font-weight: 500; margin-bottom: 16px; color: var(--text-dim); }
  .chart-container { position: relative; width: 100%; }

  /* Tables */
  .data-table { width: 100%; border-collapse: collapse; font-size: 13px; }
  .data-table th { text-align: left; padding: 10px 12px; color: var(--text-dim); font-weight: 500; border-bottom: 1px solid var(--border); font-size: 12px; }
  .data-table td { padding: 10px 12px; border-bottom: 1px solid rgba(42,46,59,0.5); }
  .data-table tr:hover td { background: rgba(99,102,241,0.05); }
  .rank-badge { display: inline-flex; align-items: center; justify-content: center; width: 24px; height: 24px; border-radius: 6px; font-size: 11px; font-weight: 600; }
  .rank-1 { background: linear-gradient(135deg, #f59e0b, #d97706); color: #fff; }
  .rank-2 { background: linear-gradient(135deg, #94a3b8, #64748b); color: #fff; }
  .rank-3 { background: linear-gradient(135deg, #b45309, #92400e); color: #fff; }
  .rank-default { background: var(--border); color: var(--text-dim); }
  .bar-cell { display: flex; align-items: center; gap: 8px; }
  .bar-fill { height: 6px; border-radius: 3px; background: linear-gradient(90deg, var(--accent), var(--cyan)); transition: width 0.5s; }

  /* Insight boxes */
  .insight-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; }
  .insight-box { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 20px; border-left: 3px solid var(--accent); }
  .insight-box.warning { border-left-color: var(--orange); }
  .insight-box.success { border-left-color: var(--green); }
  .insight-box.info { border-left-color: var(--blue); }
  .insight-box h4 { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
  .insight-box p { font-size: 13px; color: var(--text-dim); line-height: 1.7; }

  /* Month detail panel */
  .detail-panel {
    background: var(--card); border: 1px solid var(--border); border-radius: 12px;
    padding: 24px; margin-bottom: 28px; display: none;
  }
  .detail-panel.visible { display: block; }
  .detail-panel h3 { font-size: 16px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
  .detail-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
  .detail-item { text-align: center; }
  .detail-item .val { font-size: 28px; font-weight: 700; }
  .detail-item .lbl { font-size: 12px; color: var(--text-dim); margin-top: 4px; }
  .detail-item .cmp { font-size: 12px; margin-top: 4px; }

  .footer { text-align: center; padding: 32px 0; color: var(--text-dim); font-size: 12px; border-top: 1px solid var(--border); margin-top: 40px; }

  @media (max-width: 900px) {
    .chart-grid { grid-template-columns: 1fr; }
    .kpi-grid { grid-template-columns: repeat(2, 1fr); }
    .detail-grid { grid-template-columns: repeat(2, 1fr); }
    .header h1 { font-size: 22px; }
  }
</style>
</head>
<body>
<div class="dashboard">
  <div class="header">
    <h1>ë¸”ë¡œê·¸ ì„±ê³¼ë¶„ì„ ëŒ€ì‹œë³´ë“œ</h1>
    <div class="subtitle">ë„¤ì´ë²„ ë¸”ë¡œê·¸ í†µê³„ ê¸°ë°˜ &nbsp;|&nbsp; ìƒì„±ì¼: 2026.02.20</div>
  </div>

  <!-- Period Selector -->
  <div class="period-selector">
    <div class="period-selector-header">
      <h3><span class="icon">ğŸ“…</span> ë¶„ì„ ê¸°ê°„ ì„¤ì •</h3>
      <div class="period-presets">
        <button class="preset-btn" data-preset="all">ì „ì²´ (10ê°œì›”)</button>
        <button class="preset-btn" data-preset="recent3">ìµœê·¼ 3ê°œì›”</button>
        <button class="preset-btn" data-preset="recent6">ìµœê·¼ 6ê°œì›”</button>
        <button class="preset-btn" data-preset="q4">Q4 2025</button>
        <button class="preset-btn" data-preset="single">ê°œë³„ ì›” ì„ íƒ</button>
      </div>
    </div>
    <div class="month-pills" id="monthPills"></div>
    <div class="period-info" id="periodInfo"></div>
  </div>

  <!-- KPI Summary -->
  <div class="kpi-grid" id="kpiGrid"></div>

  <!-- Month Detail Panel (for single month) -->
  <div class="detail-panel" id="detailPanel">
    <h3><span style="color:var(--accent)">â—</span> <span id="detailTitle">ì›”ë³„ ìƒì„¸</span></h3>
    <div class="detail-grid" id="detailGrid"></div>
  </div>

  <!-- Monthly Trend Charts -->
  <div class="section">
    <div class="section-title"><span class="dot"></span>ì›”ë³„ íŠ¸ë Œë“œ</div>
    <div class="chart-grid">
      <div class="chart-card"><h3>ì›”ë³„ ì¡°íšŒìˆ˜ ì¶”ì´</h3><div class="chart-container"><canvas id="chartPageViews"></canvas></div></div>
      <div class="chart-card"><h3>ì›”ë³„ ìˆœë°©ë¬¸ììˆ˜ ì¶”ì´</h3><div class="chart-container"><canvas id="chartVisitors"></canvas></div></div>
    </div>
    <div class="chart-grid">
      <div class="chart-card"><h3>ì¬ë°©ë¬¸ììˆ˜ ì¶”ì´</h3><div class="chart-container"><canvas id="chartReturn"></canvas></div></div>
      <div class="chart-card"><h3>í‰ê·  ì‚¬ìš©ì‹œê°„ (ì´ˆ)</h3><div class="chart-container"><canvas id="chartAvgTime"></canvas></div></div>
    </div>
  </div>

  <!-- Daily Views -->
  <div class="section">
    <div class="section-title"><span class="dot"></span>ìµœê·¼ 90ì¼ ì¼ë³„ ì¡°íšŒìˆ˜</div>
    <div class="chart-grid full">
      <div class="chart-card"><h3>2025.11.22 ~ 2026.02.19 ì¼ë³„ ì¡°íšŒìˆ˜</h3><div class="chart-container"><canvas id="chartDaily"></canvas></div></div>
    </div>
  </div>

  <!-- Traffic Sources -->
  <div class="section">
    <div class="section-title"><span class="dot"></span>ìœ ì… ì±„ë„ ë¶„ì„</div>
    <div class="chart-grid">
      <div class="chart-card"><h3 id="trafficPieTitle">ìœ ì… ì±„ë„ ë¹„ìœ¨</h3><div class="chart-container"><canvas id="chartTrafficPie"></canvas></div></div>
      <div class="chart-card"><h3>ì£¼ìš” ì±„ë„ë³„ ì›”ê°„ ì¶”ì´</h3><div class="chart-container"><canvas id="chartTrafficTrend"></canvas></div></div>
    </div>
  </div>

  <!-- Demographics -->
  <div class="section">
    <div class="section-title"><span class="dot"></span>ë°©ë¬¸ì ì¸êµ¬í†µê³„</div>
    <div class="chart-grid">
      <div class="chart-card"><h3>ì„±ë³„ ë¹„ìœ¨ ë³€í™”</h3><div class="chart-container"><canvas id="chartGender"></canvas></div></div>
      <div class="chart-card"><h3 id="ageChartTitle">ì—°ë ¹ë³„ ë¶„í¬</h3><div class="chart-container"><canvas id="chartAge"></canvas></div></div>
    </div>
  </div>

  <!-- Top Posts -->
  <div class="section">
    <div class="section-title"><span class="dot"></span><span id="topPostsTitle">ì¸ê¸° ê²Œì‹œë¬¼ TOP 15</span></div>
    <div class="chart-card"><table class="data-table" id="topPostsTable"></table></div>
  </div>

  <!-- Top Search Keywords -->
  <div class="section">
    <div class="section-title"><span class="dot"></span><span id="keywordsTitle">ê²€ìƒ‰ ìœ ì… í‚¤ì›Œë“œ ë¶„ì„</span></div>
    <div class="chart-grid">
      <div class="chart-card"><h3>ìƒìœ„ ê²€ìƒ‰ í‚¤ì›Œë“œ</h3><div class="chart-container"><canvas id="chartKeywords"></canvas></div></div>
      <div class="chart-card"><h3>í‚¤ì›Œë“œ ìƒì„¸</h3><table class="data-table" id="keywordsTable"></table></div>
    </div>
  </div>

  <!-- Key Insights -->
  <div class="section">
    <div class="section-title"><span class="dot"></span>í•µì‹¬ ì¸ì‚¬ì´íŠ¸</div>
    <div class="insight-grid" id="insightGrid"></div>
  </div>

  <div class="footer">ë¸”ë¡œê·¸ ì„±ê³¼ë¶„ì„ ëŒ€ì‹œë³´ë“œ &copy; 2026 &nbsp;|&nbsp; ë„¤ì´ë²„ ë¸”ë¡œê·¸ í†µê³„ ë°ì´í„° ê¸°ë°˜ ìë™ ìƒì„±</div>
</div>

<script>
// ===== ALL DATA =====
const DATA = {
  months: ['4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”','1ì›”'],
  monthsFull: ['2025.04','2025.05','2025.06','2025.07','2025.08','2025.09','2025.10','2025.11','2025.12','2026.01'],
  monthsLabel: ['2025ë…„ 4ì›”','2025ë…„ 5ì›”','2025ë…„ 6ì›”','2025ë…„ 7ì›”','2025ë…„ 8ì›”','2025ë…„ 9ì›”','2025ë…„ 10ì›”','2025ë…„ 11ì›”','2025ë…„ 12ì›”','2026ë…„ 1ì›”'],
  pageViews: [1519, 2434, 2212, 1861, 1449, 1706, 1213, 1128, 2266, 1566],
  visitors: [882, 1762, 1601, 1319, 1132, 1344, 822, 825, 1582, 1121],
  returnVisitors: [0, 49, 66, 51, 37, 26, 24, 26, 36, 70],
  avgTimeSeconds: [258, 300, 318, 291, 267, 356, 310, 303, 276, 284],
  avgTimeLabel: ['4ë¶„ 18ì´ˆ','5ë¶„ 0ì´ˆ','5ë¶„ 18ì´ˆ','4ë¶„ 51ì´ˆ','4ë¶„ 27ì´ˆ','5ë¶„ 56ì´ˆ','5ë¶„ 10ì´ˆ','5ë¶„ 3ì´ˆ','4ë¶„ 36ì´ˆ','4ë¶„ 44ì´ˆ'],
  maleRatio: [34.75,35.53,38.94,44.08,40.29,28.89,33.08,35.50,39.19,42.42],
  femaleRatio: [65.25,64.47,61.06,55.92,59.71,71.11,66.92,64.50,60.81,57.58],
  maleCount: [328,443,435,458,309,258,214,202,558,420],
  femaleCount: [616,804,682,581,458,635,433,367,866,570],
  // Per-month age data [male_array, female_array]
  ageGroups: ['0-12','13-18','19-24','25-29','30-34','35-39','40-44','45-49','50-54','55-59','60+'],
  ageMale: [
    [0,6,5,10,17,65,33,75,73,33,11],[0,1,6,14,33,90,46,110,83,43,17],[0,3,3,16,28,68,41,97,89,64,26],
    [0,4,7,12,23,63,60,100,90,63,36],[0,2,2,6,16,37,40,74,63,44,25],[0,0,3,5,12,17,23,56,63,42,37],
    [0,1,2,5,7,22,29,48,45,32,23],[0,0,2,6,9,19,28,43,41,31,23],[0,2,4,14,26,62,79,137,117,76,41],
    [0,1,1,11,24,36,86,95,76,60,30]
  ],
  ageFemale: [
    [2,20,19,16,63,247,97,72,45,22,13],[1,22,22,37,95,267,128,96,74,39,23],[0,14,17,26,67,184,131,97,85,38,23],
    [0,10,10,17,52,135,107,107,73,42,28],[1,7,7,10,33,89,84,95,67,38,27],[0,5,10,21,49,143,135,124,75,40,33],
    [0,3,3,11,35,93,90,88,55,31,24],[0,6,10,10,23,58,72,78,55,32,23],[0,9,17,28,80,176,152,175,117,67,45],
    [0,4,12,16,41,86,177,133,67,19,15]
  ],
  // Traffic channel data per month
  trafficChannels: ['ë„¤ì´ë²„ í†µí•©ê²€ìƒ‰(ëª¨ë°”ì¼)','ë„¤ì´ë²„ í†µí•©ê²€ìƒ‰(PC)','ë„¤ì´ë²„ ë¸”ë¡œê·¸','Bing','Daum','ê¸°íƒ€'],
  trafficByMonth: [
    [35.17,18.72,19.04,0,1.70,25.37],[38.70,27.18,11.61,4.49,7.07,10.95],
    [37.22,28.86,12.20,5.27,8.36,8.09],[35.50,28.53,12.59,5.55,9.57,8.26],
    [36.56,31.95,10.70,4.22,7.19,9.38],[35.86,30.25,7.47,7.41,9.26,9.75],
    [31.12,25.82,16.36,6.98,7.16,12.56],[31.75,25.81,12.44,8.54,6.60,14.86],
    [46.45,23.18,13.90,4.39,3.60,8.48],[42.0,28.0,10.0,5.5,5.0,9.5]
  ],
  // Top posts per month (top 10)
  topPostsByMonth: [
    [ // Apr
      {rank:1,title:'í•™êµì¥ì„ ìœ„í•œ ë²•ë¥  ê°€ì´ë“œ (1) : í•™êµì¥ì˜ ë²•ì  ì§€ìœ„ì™€ ê¶Œí•œ',views:57,date:'2025.04.24'},
      {rank:2,title:'í•™êµí­ë ¥ì˜ˆë°©ë²• ì™„ì „ ì •ë¦¬ : í•™êµí­ë ¥ ë²•ì  ì •ì˜ë¶€í„° ëª…í™•íˆ ì•Œê¸°',views:42,date:'2025.04.10'},
      {rank:3,title:'í•™êµì•ˆì „ë²• ê°œì •ê³¼ êµì› ë©´ì±… ë° ë³´í˜¸ì¡°ì¹˜ ê°•í™”',views:39,date:'2025.04.17'},
      {rank:4,title:'ì—¼ìš©ì£¼ ëŒ€í‘œë³€í˜¸ì‚¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.',views:35,date:'2025.04.09'},
      {rank:5,title:'í•™êµ ì•ˆì „ì‚¬ê³ ì˜ ë²•ì  ì±…ì„ : êµì‚¬ì™€ í•™êµì˜ ì˜ë¬´ì™€ í•œê³„',views:28,date:'2025.04.11'},
    ],
    [ // May
      {rank:1,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ ê°€ì´ë“œ (4) : ì‚¬ë¦½í•™êµì˜ êµì›ì§•ê³„ìœ„ì›íšŒ êµ¬ì„±ê³¼ ìš´ì˜',views:89,date:'2025.05.08'},
      {rank:2,title:'í•™êµê¸‰ë³„ í•™êµì•ˆì „ì‚¬ê³  ì£¼ìš” ìœ í˜•ê³¼ í†µê³„ ë¶„ì„',views:62,date:'2025.05.07'},
      {rank:3,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ê°€ì´ë“œ (3) : êµ­Â·ê³µë¦½í•™êµì˜ ì§•ê³„ìœ„ì›íšŒ êµ¬ì„±ê³¼ ìš´ì˜',views:55,date:'2025.05.01'},
      {rank:4,title:'í•™êµ ê³µìœ ì¬ì‚°ì˜ ê¸°ë³¸ ì´í•´ : ê³µìœ ì¬ì‚°ì˜ ê°œë…ê³¼ ë²•ì  ì§€ìœ„',views:48,date:'2025.05.14'},
      {rank:5,title:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ëŒ€ì‘, ìµœì‹  êµì› ì§•ê³„ ì–‘ì •ê¸°ì¤€ê³¼ 6ê°€ì§€ ì§•ê³„ ìœ í˜• ì™„ë²½ í•´ì„¤',views:41,date:'2025.05.27'},
    ],
    [ // Jun
      {rank:1,title:'êµìœ¡ í™œë™ ë³´í˜¸ ë²•ë¥ ì˜ ì´í•´ (1) : êµì‚¬ê°€ ê¼­ ì•Œì•„ì•¼ í•  êµì›ì§€ìœ„ë²•ì˜ í•µì‹¬',views:72,date:'2025.06.02'},
      {rank:2,title:'í•™êµì•ˆì „ì‚¬ê³  ì¤‘ ê°€ì¥ í”í•œ ì‚¬ê³  ìœ í˜• ë¶„ì„ê³¼ ë²•ì  ëŒ€ì‘ì˜ í•„ìš”ì„±',views:65,date:'2025.06.10'},
      {rank:3,title:'í•™êµí­ë ¥ ì‚¬ì•ˆì²˜ë¦¬ ì ˆì°¨ì˜ ì´í•´(1) : í•™êµí­ë ¥ ì‚¬ì•ˆì²˜ë¦¬ íë¦„ ì™„ë²½ ê°€ì´ë“œ',views:48,date:'2025.06.09'},
      {rank:4,title:'êµì‚¬ì±…ì„ë©´ì œ? 2025 í•™êµì•ˆì „ì‚¬ê³  ë²•ì  ì±…ì„ ì´ì •ë¦¬',views:42,date:'2025.06.30'},
      {rank:5,title:'í•™êµ ê³µìœ ì¬ì‚°ì˜ ê¸°ë³¸ ì´í•´ (3) : í•™êµ ì¬ì‚° ì‹¤íƒœì¡°ì‚¬ì™€ ê´€ë¦¬ ê°€ì´ë“œ',views:38,date:'2025.06.20'},
    ],
    [ // Jul
      {rank:1,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ ê°€ì´ë“œ (10) : êµì›ì§•ê³„, ì¸ì‚¬ê¸°ë¡ê³¼ ì¥ê¸°ì  ì˜í–¥',views:78,date:'2025.07.03'},
      {rank:2,title:'[ì„±ê³µ ì‚¬ë¡€] ì‚¬ë¦½í•™êµ êµì› ë¶€ë‹¹í•´ê³ , í•´ì„ì²˜ë¶„ ë¬´íš¨í™•ì¸ ìŠ¹ì†Œ ì‚¬ë¡€',views:52,date:'2025.07.16'},
      {rank:3,title:'êµì›ì†Œì²­ì‹¬ì‚¬ ê¸°ì´ˆ ì™„ì „ ì •ë³µ (1) : êµì›ì†Œì²­ì‹¬ì‚¬, 23.8% ì¸ìš©ë¥ ì˜ ì˜ë¯¸',views:45,date:'2025.07.09'},
      {rank:4,title:'êµì›ì†Œì²­ì‹¬ì‚¬ ê¸°ì´ˆ ê°€ì´ë“œ (2) : ì²­êµ¬ ìê²©ë¶€í„° ì ˆì°¨ê¹Œì§€',views:38,date:'2025.07.15'},
      {rank:5,title:'í•™êµí­ë ¥ ì‚¬ì•ˆì²˜ë¦¬ ì ˆì°¨ì˜ ì´í•´(3) : í•™êµí­ë ¥ ì¦‰ì‹œë¶„ë¦¬ 7ì¼',views:32,date:'2025.07.03'},
    ],
    [ // Aug
      {rank:1,title:'ì§€ì—­êµê¶Œë³´í˜¸ìœ„ì›íšŒ ì´í•´í•˜ê¸°: êµê¶Œì¹¨í•´ ì‹œ êµì‚¬ê°€ ê¼­ ì•Œì•„ì•¼ í•  ê¶Œë¦¬ì™€ ì ˆì°¨',views:68,date:'2025.08.25'},
      {rank:2,title:'í•™êµí­ë ¥ ìœ í˜• 7ê°€ì§€ ì •ì˜, ì¢…ë¥˜ë³„ íŠ¹ì§• ë²•ì  ê¸°ì¤€',views:55,date:'2025.08.20'},
      {rank:3,title:'í•™êµí­ë ¥ ì‚¬ì•ˆì²˜ë¦¬ ì ˆì°¨ì˜ ì´í•´ (5) : í•™êµì¥ ìì²´í•´ê²° vs ì‹¬ì˜ìœ„ì›íšŒ',views:48,date:'2025.08.19'},
      {rank:4,title:'í•™êµë³µí•©ì‹œì„¤ ë²•ì  ê°œë…ë¶€í„° í˜„í™©ê¹Œì§€ í•œë²ˆì— íŒŒì•…í•˜ê¸°',views:42,date:'2025.08.28'},
      {rank:5,title:'êµì›ì†Œì²­ì‹¬ì‚¬ ê¸°ì´ˆ ì™„ì „ì •ë³µ (3) : ì†Œì²­ì‹¬ì‚¬ì™€ í–‰ì •ì†Œì†¡ ì„ íƒ ê¸°ì¤€',views:35,date:'2025.08.12'},
    ],
    [ // Sep
      {rank:1,title:'êµì‚¬ ìŒì£¼ìš´ì „ ì²˜ë²Œ ì§•ê³„ ê¸°ì¤€ ì™„ë²½ ê°€ì´ë“œ & 2025ë…„ ë‹¬ë¼ì§„ ì ',views:82,date:'2025.09.02'},
      {rank:2,title:'êµìœ¡í™œë™ ì¹¨í•´ ë°œìƒ ì‹œ ëŒ€ì‘ë²•, êµì‚¬ê°€ ê¼­ ì•Œì•„ì•¼ í•  ì´ˆê¸° ëŒ€ì‘',views:55,date:'2025.09.10'},
      {rank:3,title:'êµì› ì¬ì„ìš© ê±°ë¶€ ëŒ€ì‘ë²•, ì†Œì²­ì‹¬ì‚¬ ìŠ¹ì†Œ ì „ëµ ì™„ë²½ ê°€ì´ë“œ',views:48,date:'2025.09.03'},
      {rank:4,title:'í•™êµí­ë ¥ ë¹„ìš© ëˆ„ê°€ ë¶€ë‹´í•˜ë‚˜ìš”? ì¹˜ë£Œë¹„ë¶€í„° ë³€í˜¸ì‚¬ë¹„ìš©ê¹Œì§€',views:38,date:'2025.09.26'},
      {rank:5,title:'í•™êµí­ë ¥ ë°œìƒ ì‹œ ì¦‰ì‹œ í•´ì•¼ í•  3ê°€ì§€, ì¦ê±°ë³´ì „ë¶€í„° ì‹ ê³ ê¹Œì§€',views:32,date:'2025.09.02'},
    ],
    [ // Oct
      {rank:1,title:'í•™êµí­ë ¥ì‹¬ì˜ìœ„ì›íšŒ(í•™í­ìœ„) ê°œìµœ í†µì§€, í”¼í•´í•™ìƒ ëŒ€ì‘ ì „ëµ',views:75,date:'2025.10.21'},
      {rank:2,title:'êµì› ìŠ¹ì§„ëˆ„ë½, ë³´ë³µì„± ì¸ì‚¬ ë“± ë¶€ë‹¹í•œ ì¸ì‚¬ì¡°ì¹˜ ëŒ€ì‘ ì „ëµ ì´ì •ë¦¬',views:52,date:'2025.10.21'},
      {rank:3,title:'ì‚¬êµìœ¡ ì¹´ë¥´í…” í˜•ì‚¬ê³ ë°œ, ì´ˆê¸° ëŒ€ì‘ì´ ë§ì€ ê²ƒì„ ê²°ì •í•©ë‹ˆë‹¤',views:45,date:'2025.10.16'},
      {rank:4,title:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ê²€ì°° ì†¡ì¹˜ í†µë³´ ë°›ì•˜ë‹¤ë©´? ì „ëµì  ëŒ€ì‘ë²• ì´ì •ë¦¬',views:38,date:'2025.10.22'},
      {rank:5,title:'í•™êµë³µí•©ì‹œì„¤ ë²•ì  ë¶„ìŸ ì™„ì „ ê°€ì´ë“œ',views:32,date:'2025.10.21'},
    ],
    [ // Nov
      {rank:1,title:'êµì› ì„±ë¹„ìœ„ ì§•ê³„, ì™œ ì´ë ‡ê²Œ ì—„ê²©í• ê¹Œ? ëŒ€ì‘ ì „ëµ ì´ì •ë¦¬',views:65,date:'2025.11.19'},
      {rank:2,title:'ì‚¬êµìœ¡ì¹´ë¥´í…” ì²­íƒê¸ˆì§€ë²• ìœ„ë°˜ ì§ë¬´ê´€ë ¨ì„±, ëŒ€ê°€ì„± ì…ì¦ ë°©ì–´ì „ëµ',views:52,date:'2025.11.20'},
      {rank:3,title:'êµì› í’ˆìœ„ìœ ì§€ì˜ë¬´ ìœ„ë°˜ SNS í™œë™ìœ¼ë¡œ ì§•ê³„ë°›ì•˜ë‹¤ë©´',views:38,date:'2025.10.22'},
      {rank:4,title:'êµì‚¬ ìŒì£¼ìš´ì „ ì§•ê³„, êµì›ì†Œì²­ì‹¬ì‚¬ë¡œ ê°ê²½ë°›ëŠ” ë²•',views:32,date:'2025.08.21'},
      {rank:5,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ ê°€ì´ë“œ (4) : ì‚¬ë¦½í•™êµì˜ êµì›ì§•ê³„ìœ„ì›íšŒ',views:28,date:'2025.05.08'},
    ],
    [ // Dec
      {rank:1,title:'2025ë…„ ì‚¬êµìœ¡ì¹´ë¥´í…” ìˆ˜ì‚¬ ê²°ê³¼ ë¶„ì„ - êµì›ì´ ì•Œì•„ì•¼ í•  í›„ì† ëŒ€ì‘ë²•',views:149,date:'2025.12.17'},
      {rank:2,title:'ì§ìœ„í•´ì œ í†µë³´ ë°›ìœ¼ì…¨ë‚˜ìš”? êµì›ì´ ê¼­ ì•Œì•„ì•¼ í•  ëŒ€ì‘ ì ˆì°¨ ì´ì •ë¦¬',views:125,date:'2025.12.15'},
      {rank:3,title:'êµì› Q&A - ì§•ê³„ìœ„ì›íšŒ ì¶œì„ ê±°ë¶€í•˜ë©´? ë³€í˜¸ì‚¬ì—ê²Œ ìì£¼ ë¬»ëŠ” 5ê°€ì§€ ì‹¤ì „ ì§ˆë¬¸',views:105,date:'2025.12.22'},
      {rank:4,title:'í•™êµí­ë ¥ ì¡°ì¹˜ ê¸°ë¡ í•™ìƒë¶€ ê¸°ì¬ì™€ ì‚­ì œ, 2026 ëŒ€ì… ëŒ€ë¹„ í•„ìˆ˜ ì •ë³´',views:87,date:'2025.12.11'},
      {rank:5,title:'êµì‚¬ í˜•ì‚¬ê³ ì†Œ ëŒ€ì‘, ë¬´í˜ì˜ ë°›ê¸° ìœ„í•œ í•µì‹¬ 5ë‹¨ê³„ ì „ëµ',views:72,date:'2025.12.09'},
    ],
    [ // Jan
      {rank:1,title:'2025ë…„ ì‚¬êµìœ¡ì¹´ë¥´í…” ìˆ˜ì‚¬ ê²°ê³¼ ë¶„ì„ - êµì›ì´ ì•Œì•„ì•¼ í•  í›„ì† ëŒ€ì‘ë²•',views:78,date:'2025.12.17'},
      {rank:2,title:'êµì› Q&A - ì§•ê³„ìœ„ì›íšŒ ì¶œì„ ê±°ë¶€í•˜ë©´? ë³€í˜¸ì‚¬ì—ê²Œ ìì£¼ ë¬»ëŠ” 5ê°€ì§€ ì‹¤ì „ ì§ˆë¬¸',views:66,date:'2025.12.22'},
      {rank:3,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ ê°€ì´ë“œ (4) : ì‚¬ë¦½í•™êµì˜ êµì›ì§•ê³„ìœ„ì›íšŒ êµ¬ì„±ê³¼ ìš´ì˜',views:62,date:'2025.05.08'},
      {rank:4,title:'í•™êµí­ë ¥ì‹¬ì˜ìœ„ì›íšŒ(í•™í­ìœ„) ê°œìµœ í†µì§€, í”¼í•´í•™ìƒ ëŒ€ì‘ ì „ëµ',views:62,date:'2025.10.21'},
      {rank:5,title:'ì§ìœ„í•´ì œ í†µë³´ ë°›ìœ¼ì…¨ë‚˜ìš”? êµì›ì´ ê¼­ ì•Œì•„ì•¼ í•  ëŒ€ì‘ ì ˆì°¨ ì´ì •ë¦¬',views:58,date:'2025.12.15'},
      {rank:6,title:'í•™êµì¥ì„ ìœ„í•œ ë²•ë¥  ê°€ì´ë“œ (1) : í•™êµì¥ì˜ ë²•ì  ì§€ìœ„ì™€ ê¶Œí•œ',views:57,date:'2025.04.24'},
      {rank:7,title:'ì§€ì—­êµê¶Œë³´í˜¸ìœ„ì›íšŒ ì´í•´í•˜ê¸°: êµê¶Œì¹¨í•´ ì‹œ êµì‚¬ê°€ ê¼­ ì•Œì•„ì•¼ í•  ê¶Œë¦¬ì™€ ì ˆì°¨',views:56,date:'2025.08.25'},
      {rank:8,title:'êµì‚¬ ìŒì£¼ìš´ì „ ì²˜ë²Œ ì§•ê³„ ê¸°ì¤€ ì™„ë²½ ê°€ì´ë“œ & 2025ë…„ ë‹¬ë¼ì§„ ì ',views:51,date:'2025.09.02'},
      {rank:9,title:'í•™êµí­ë ¥ ì¡°ì¹˜ ê¸°ë¡ í•™ìƒë¶€ ê¸°ì¬ì™€ ì‚­ì œ, 2026 ëŒ€ì… ëŒ€ë¹„ í•„ìˆ˜ ì •ë³´',views:49,date:'2025.12.11'},
      {rank:10,title:'ì—¼ìš©ì£¼ ëŒ€í‘œë³€í˜¸ì‚¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.',views:39,date:'2025.04.09'},
      {rank:11,title:'êµì› ìŠ¹ì§„ëˆ„ë½, ë³´ë³µì„± ì¸ì‚¬ ë“± ë¶€ë‹¹í•œ ì¸ì‚¬ì¡°ì¹˜ ëŒ€ì‘ ì „ëµ ì´ì •ë¦¬',views:38,date:'2025.10.21'},
      {rank:12,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ ê°€ì´ë“œ (10) : êµì›ì§•ê³„, ì¸ì‚¬ê¸°ë¡ê³¼ ì¥ê¸°ì  ì˜í–¥',views:37,date:'2025.07.03'},
      {rank:13,title:'êµì› ì§•ê³„ ì ˆì°¨ ì‹¤ë¬´ê°€ì´ë“œ (3) : êµ­Â·ê³µë¦½í•™êµì˜ ì§•ê³„ìœ„ì›íšŒ êµ¬ì„±ê³¼ ìš´ì˜',views:34,date:'2025.05.01'},
      {rank:14,title:'í•™êµ ê³µìœ ì¬ì‚°ì˜ ê¸°ë³¸ ì´í•´ (2) : í•™êµ ê³µìœ ì¬ì‚° ê´€ë¦¬ ê¸°ë³¸ ì›ì¹™ ì™„ì „ ì •ë¦¬',views:33,date:'2025.05.27'},
      {rank:15,title:'í•™êµí­ë ¥ ì‚¬ì•ˆì²˜ë¦¬ ì ˆì°¨ì˜ ì´í•´ (5) : í•™êµì¥ ìì²´í•´ê²° vs ì‹¬ì˜ìœ„ì›íšŒ',views:33,date:'2025.08.19'},
    ],
  ],
  // Keywords per month (top keywords)
  keywordsByMonth: [
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:7.51},{keyword:'ì–¸ì–´í­ë ¥ ì‚¬ë¡€',pct:5.47},{keyword:'í•™êµì•ˆì „ë²•',pct:5.09},{keyword:'í•™êµì•ˆì „ë²• ê°œì •ì•ˆ',pct:1.91},{keyword:'í•™êµì•ˆì „ë²• ê°œì •',pct:1.65}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:3.41},{keyword:'í•™êµì•ˆì „ë²•',pct:2.18},{keyword:'ì—¼ìš©ì£¼ ë¸”ë¡œê·¸',pct:1.27},{keyword:'í•™êµ ê³µìœ ì¬ì‚°',pct:1.09},{keyword:'êµì› ì§•ê³„ ì ˆì°¨',pct:0.91}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:5.63},{keyword:'í•™êµì•ˆì „ë²• ê°œì •ì•ˆ',pct:1.90},{keyword:'í•™êµì•ˆì „ì‚¬ê³ ',pct:1.42},{keyword:'êµì› ì§•ê³„',pct:1.16},{keyword:'í•™êµ ê³µìœ ì¬ì‚°',pct:0.95}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:6.84},{keyword:'í•™êµì•ˆì „ë²• ê°œì •ì•ˆ',pct:2.53},{keyword:'êµì› ì§•ê³„',pct:1.69},{keyword:'êµì›ì†Œì²­ì‹¬ì‚¬',pct:1.27},{keyword:'í•™êµí­ë ¥ ì¦‰ì‹œë¶„ë¦¬',pct:0.84}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:4.97},{keyword:'í•™ë§ˆí†µ',pct:1.07},{keyword:'êµê¶Œë³´í˜¸ìœ„ì›íšŒ',pct:0.93},{keyword:'í•™êµí­ë ¥ ìœ í˜•',pct:0.80},{keyword:'í•™êµë³µí•©ì‹œì„¤',pct:0.67}],
    [{keyword:'êµê¶Œë³´í˜¸ìœ„ì›íšŒ ì ˆì°¨',pct:1.78},{keyword:'ì§€ì—­êµê¶Œë³´í˜¸ìœ„ì›íšŒ',pct:1.62},{keyword:'êµì‚¬ ìŒì£¼ìš´ì „',pct:1.46},{keyword:'êµê¶Œì¹¨í•´',pct:1.30},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…”',pct:1.13}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…”',pct:2.33},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ì§•ê³„',pct:2.33},{keyword:'í•™í­ìœ„ ëŒ€ì‘',pct:1.55},{keyword:'êµì› ì¸ì‚¬ì¡°ì¹˜',pct:1.16},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ê³ ë°œ',pct:0.93}],
    [{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ì§•ê³„',pct:3.21},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…”',pct:2.59},{keyword:'êµì› ì„±ë¹„ìœ„',pct:1.94},{keyword:'ì²­íƒê¸ˆì§€ë²• ìœ„ë°˜',pct:1.29},{keyword:'êµì› í’ˆìœ„ìœ ì§€',pct:0.97}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…”',pct:4.29},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ìˆ˜ì‚¬',pct:3.15},{keyword:'ì§ìœ„í•´ì œ',pct:2.01},{keyword:'í•™ìƒë¶€ ê¸°ì¬',pct:1.43},{keyword:'êµì‚¬ í˜•ì‚¬ê³ ì†Œ',pct:1.14}],
    [{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ì§•ê³„',pct:1.62},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ì§•ê³„ë¶€ê°€ê¸ˆ',pct:1.62},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ë³€í˜¸ì‚¬',pct:1.19},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…”',pct:1.11},{keyword:'ê°ì‚¬ì› ì‚¬êµìœ¡ ë³€í˜¸ì‚¬',pct:1.02},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ê³ ë°œ',pct:1.02},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…”',pct:0.77},{keyword:'ì—¼ìš©ì£¼ ë³€í˜¸ì‚¬',pct:0.77},{keyword:'ì‚¬êµìœ¡ ì¹´ë¥´í…” ë³€í˜¸ì‚¬',pct:0.51},{keyword:'ì‚¬êµìœ¡ì¹´ë¥´í…” ì§ë¬´ê´€ë ¨ì„±',pct:0.51}],
  ],
};

// Daily data
const dailyDates = [
  '11/22','11/23','11/24','11/25','11/26','11/27','11/28','11/29','11/30',
  '12/01','12/02','12/03','12/04','12/05','12/06','12/07','12/08','12/09','12/10',
  '12/11','12/12','12/13','12/14','12/15','12/16','12/17','12/18','12/19','12/20',
  '12/21','12/22','12/23','12/24','12/25','12/26','12/27','12/28','12/29','12/30','12/31',
  '01/01','01/02','01/03','01/04','01/05','01/06','01/07','01/08','01/09','01/10',
  '01/11','01/12','01/13','01/14','01/15','01/16','01/17','01/18','01/19','01/20',
  '01/21','01/22','01/23','01/24','01/25','01/26','01/27','01/28','01/29','01/30','01/31',
  '02/01','02/02','02/03','02/04','02/05','02/06','02/07','02/08','02/09','02/10',
  '02/11','02/12','02/13','02/14','02/15','02/16','02/17','02/18','02/19'
];
const dailyViews = [
  17,16,52,43,62,79,58,14,38,
  52,60,61,58,49,22,12,58,56,52,
  87,125,36,36,125,101,149,111,92,35,
  38,89,105,83,39,72,41,33,96,133,160,
  63,67,46,33,67,103,87,52,68,39,
  33,69,62,63,72,56,27,25,53,52,
  41,43,33,20,29,48,64,55,46,33,17,
  31,45,56,53,69,63,35,27,47,47,
  52,52,49,29,23,12,11,15,43
];

// ===== STATE =====
let selectedRange = [0, 9]; // [startIdx, endIdx] inclusive
let selectionMode = 'range'; // 'range' or 'single'
let rangeClickState = 0; // 0=none, 1=start selected

// Chart instances
let charts = {};

// ===== CHART CONFIG =====
Chart.defaults.color = '#8b8fa3';
Chart.defaults.borderColor = 'rgba(42,46,59,0.5)';
Chart.defaults.font.family = "'Noto Sans KR', sans-serif";
Chart.defaults.font.size = 12;
const gridColor = 'rgba(42,46,59,0.7)';

function commonOptions(yTitle) {
  return {
    responsive: true, maintainAspectRatio: true, aspectRatio: 2,
    interaction: { mode: 'index', intersect: false },
    plugins: { legend: { display: false } },
    scales: {
      x: { grid: { display: false } },
      y: { grid: { color: gridColor }, title: { display: !!yTitle, text: yTitle || '' } }
    }
  };
}

function gradient(ctx, c1, c2) {
  const g = ctx.createLinearGradient(0, 0, 0, 300);
  g.addColorStop(0, c1); g.addColorStop(1, c2);
  return g;
}

// ===== PERIOD SELECTOR =====
function initPeriodSelector() {
  const pillsContainer = document.getElementById('monthPills');
  DATA.months.forEach((m, i) => {
    const pill = document.createElement('button');
    pill.className = 'month-pill selected';
    pill.textContent = DATA.monthsFull[i];
    pill.dataset.index = i;
    pill.addEventListener('click', () => handleMonthClick(i));
    pillsContainer.appendChild(pill);
  });

  document.querySelectorAll('.preset-btn').forEach(btn => {
    btn.addEventListener('click', () => handlePreset(btn.dataset.preset));
  });

  updatePresetButtons();
  updatePillStyles();
  updatePeriodInfo();
}

function handlePreset(preset) {
  selectionMode = 'range';
  rangeClickState = 0;
  switch(preset) {
    case 'all': selectedRange = [0, 9]; break;
    case 'recent3': selectedRange = [7, 9]; break;
    case 'recent6': selectedRange = [4, 9]; break;
    case 'q4': selectedRange = [6, 8]; break;
    case 'single': selectionMode = 'single'; selectedRange = [9, 9]; break;
  }
  updateAll();
}

function handleMonthClick(idx) {
  if (selectionMode === 'single') {
    selectedRange = [idx, idx];
  } else {
    if (rangeClickState === 0) {
      selectedRange = [idx, idx];
      rangeClickState = 1;
    } else {
      const start = Math.min(selectedRange[0], idx);
      const end = Math.max(selectedRange[0], idx);
      selectedRange = [start, end];
      rangeClickState = 0;
    }
  }
  updateAll();
}

function updatePresetButtons() {
  document.querySelectorAll('.preset-btn').forEach(btn => {
    const p = btn.dataset.preset;
    let active = false;
    if (p === 'all' && selectedRange[0]===0 && selectedRange[1]===9 && selectionMode==='range') active = true;
    if (p === 'recent3' && selectedRange[0]===7 && selectedRange[1]===9 && selectionMode==='range') active = true;
    if (p === 'recent6' && selectedRange[0]===4 && selectedRange[1]===9 && selectionMode==='range') active = true;
    if (p === 'q4' && selectedRange[0]===6 && selectedRange[1]===8 && selectionMode==='range') active = true;
    if (p === 'single' && selectionMode==='single') active = true;
    btn.classList.toggle('active', active);
  });
}

function updatePillStyles() {
  document.querySelectorAll('.month-pill').forEach(pill => {
    const i = parseInt(pill.dataset.index);
    pill.classList.remove('selected', 'in-range');
    if (i === selectedRange[0] || i === selectedRange[1]) {
      pill.classList.add('selected');
    } else if (i > selectedRange[0] && i < selectedRange[1]) {
      pill.classList.add('in-range');
    }
  });
}

function updatePeriodInfo() {
  const info = document.getElementById('periodInfo');
  const [s, e] = selectedRange;
  const count = e - s + 1;
  if (s === e) {
    info.innerHTML = `ì„ íƒ: <span class="badge">${DATA.monthsLabel[s]}</span> &nbsp;|&nbsp; ë‹¨ì¼ ì›” ìƒì„¸ ë³´ê¸°`;
  } else {
    info.innerHTML = `ì„ íƒ: <span class="badge">${DATA.monthsFull[s]} ~ ${DATA.monthsFull[e]}</span> &nbsp;|&nbsp; ${count}ê°œì›” &nbsp;|&nbsp; ì›” í´ë¦­ìœ¼ë¡œ ë²”ìœ„ ì‹œì‘/ë ì§€ì •`;
  }
}

// ===== UPDATE ALL =====
function updateAll() {
  updatePresetButtons();
  updatePillStyles();
  updatePeriodInfo();
  renderKPIs();
  renderDetailPanel();
  renderAllCharts();
  renderTables();
}

// ===== KPIs =====
function renderKPIs() {
  const grid = document.getElementById('kpiGrid');
  grid.innerHTML = '';
  const [s, e] = selectedRange;
  const count = e - s + 1;

  const pv = DATA.pageViews.slice(s, e+1);
  const uv = DATA.visitors.slice(s, e+1);
  const rv = DATA.returnVisitors.slice(s, e+1);
  const at = DATA.avgTimeSeconds.slice(s, e+1);

  const sumPV = pv.reduce((a,b)=>a+b,0);
  const sumUV = uv.reduce((a,b)=>a+b,0);
  const sumRV = rv.reduce((a,b)=>a+b,0);
  const avgAT = Math.round(at.reduce((a,b)=>a+b,0)/count);
  const avgM = Math.floor(avgAT/60), avgS = avgAT%60;

  // Compare with previous period
  let prevPV = null, prevUV = null;
  if (s > 0) {
    const ps = Math.max(0, s - count);
    const pe = s - 1;
    prevPV = DATA.pageViews.slice(ps, pe+1).reduce((a,b)=>a+b,0);
    prevUV = DATA.visitors.slice(ps, pe+1).reduce((a,b)=>a+b,0);
  }

  const period = s === e ? DATA.months[s] : `${DATA.months[s]}~${DATA.months[e]}`;

  const kpis = [
    {
      icon: 'ğŸ‘ï¸', label: `ì¡°íšŒìˆ˜ ${count > 1 ? 'í•©ê³„' : ''}`, value: sumPV.toLocaleString(), suffix: 'ê±´',
      change: prevPV !== null ? (((sumPV - prevPV) / prevPV) * 100).toFixed(1) : null,
      sub: count > 1 ? `ì›”í‰ê·  ${Math.round(sumPV/count).toLocaleString()}ê±´` : null
    },
    {
      icon: 'ğŸ‘¤', label: `ìˆœë°©ë¬¸ì ${count > 1 ? 'í•©ê³„' : ''}`, value: sumUV.toLocaleString(), suffix: 'ëª…',
      change: prevUV !== null ? (((sumUV - prevUV) / prevUV) * 100).toFixed(1) : null,
      sub: count > 1 ? `ì›”í‰ê·  ${Math.round(sumUV/count).toLocaleString()}ëª…` : null
    },
    {
      icon: 'ğŸ”„', label: 'ì¬ë°©ë¬¸ì', value: count === 1 ? rv[0].toLocaleString() : sumRV.toLocaleString(), suffix: count === 1 ? 'ëª…' : 'ëª… í•©ê³„',
      change: null,
      sub: count === 1 ? `ì¬ë°©ë¬¸ìœ¨ ${(rv[0]/uv[0]*100).toFixed(1)}%` : `ì›”í‰ê·  ${Math.round(sumRV/count)}ëª…`
    },
    {
      icon: 'â±ï¸', label: 'í‰ê·  ì²´ë¥˜ì‹œê°„', value: `${avgM}ë¶„ ${avgS}ì´ˆ`, suffix: '',
      change: null,
      sub: count === 1 ? DATA.avgTimeLabel[s] : `${count}ê°œì›” í‰ê· `
    },
  ];

  kpis.forEach(kpi => {
    const card = document.createElement('div');
    card.className = 'kpi-card';
    let changeHtml = '';
    if (kpi.change !== null) {
      const v = parseFloat(kpi.change);
      const isUp = v > 0;
      changeHtml = `<div class="kpi-change ${isUp ? 'up' : 'down'}">${isUp ? 'â–²' : 'â–¼'} ${Math.abs(v)}% ì´ì „ ë™ê¸°ê°„ ëŒ€ë¹„</div>`;
    }
    card.innerHTML = `
      <div class="kpi-icon">${kpi.icon}</div>
      <div class="kpi-label">${kpi.label}</div>
      <div class="kpi-value">${kpi.value}<span style="font-size:14px;color:var(--text-dim);margin-left:4px">${kpi.suffix}</span></div>
      ${changeHtml}
      ${kpi.sub ? `<div class="kpi-sub">${kpi.sub}</div>` : ''}
    `;
    grid.appendChild(card);
  });
}

// ===== DETAIL PANEL =====
function renderDetailPanel() {
  const panel = document.getElementById('detailPanel');
  const [s, e] = selectedRange;

  if (s !== e) { panel.classList.remove('visible'); return; }
  panel.classList.add('visible');

  const i = s;
  document.getElementById('detailTitle').textContent = `${DATA.monthsLabel[i]} ìƒì„¸ ì§€í‘œ`;

  const grid = document.getElementById('detailGrid');
  grid.innerHTML = '';

  const items = [
    { val: DATA.pageViews[i].toLocaleString(), lbl: 'ì¡°íšŒìˆ˜', prev: i > 0 ? DATA.pageViews[i-1] : null, cur: DATA.pageViews[i] },
    { val: DATA.visitors[i].toLocaleString(), lbl: 'ìˆœë°©ë¬¸ììˆ˜', prev: i > 0 ? DATA.visitors[i-1] : null, cur: DATA.visitors[i] },
    { val: DATA.returnVisitors[i].toLocaleString(), lbl: 'ì¬ë°©ë¬¸ììˆ˜', prev: i > 0 ? DATA.returnVisitors[i-1] : null, cur: DATA.returnVisitors[i] },
    { val: DATA.avgTimeLabel[i], lbl: 'í‰ê·  ì²´ë¥˜ì‹œê°„', prev: i > 0 ? DATA.avgTimeSeconds[i-1] : null, cur: DATA.avgTimeSeconds[i] },
  ];

  items.forEach(item => {
    const div = document.createElement('div');
    div.className = 'detail-item';
    let cmpHtml = '';
    if (item.prev !== null) {
      const pct = ((item.cur - item.prev) / item.prev * 100).toFixed(1);
      const isUp = pct > 0;
      cmpHtml = `<div class="cmp" style="color:${isUp ? 'var(--green)' : 'var(--red)'}">${isUp ? 'â–²' : 'â–¼'} ${Math.abs(pct)}% vs ì „ì›”</div>`;
    }
    div.innerHTML = `<div class="val">${item.val}</div><div class="lbl">${item.lbl}</div>${cmpHtml}`;
    grid.appendChild(div);
  });
}

// ===== CHARTS =====
function destroyCharts() {
  Object.values(charts).forEach(c => c.destroy());
  charts = {};
}

function renderAllCharts() {
  destroyCharts();
  const [s, e] = selectedRange;

  // Highlight colors for bar charts
  const barColors = DATA.months.map((_, i) => {
    if (i >= s && i <= e) return '#6366f1';
    return 'rgba(99,102,241,0.15)';
  });
  const barColorsOrange = DATA.months.map((_, i) => {
    if (i >= s && i <= e) return '#f59e0b';
    return 'rgba(245,158,11,0.15)';
  });

  // Page Views
  const pvCtx = document.getElementById('chartPageViews').getContext('2d');
  charts.pv = new Chart(pvCtx, {
    type: 'bar',
    data: { labels: DATA.months, datasets: [{ data: DATA.pageViews, backgroundColor: barColors, borderRadius: 6, borderSkipped: false }] },
    options: { ...commonOptions('ì¡°íšŒìˆ˜'), plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => ctx.parsed.y.toLocaleString() + 'ê±´' } } } }
  });

  // Visitors
  const uvCtx = document.getElementById('chartVisitors').getContext('2d');
  charts.uv = new Chart(uvCtx, {
    type: 'line',
    data: { labels: DATA.months, datasets: [{
      data: DATA.visitors, borderColor: '#06b6d4',
      backgroundColor: gradient(uvCtx, 'rgba(6,182,212,0.2)', 'rgba(6,182,212,0)'),
      fill: true, tension: 0.4, pointBackgroundColor: DATA.months.map((_,i) => i>=s&&i<=e ? '#06b6d4' : 'rgba(6,182,212,0.3)'),
      pointRadius: DATA.months.map((_,i) => i>=s&&i<=e ? 5 : 3),
      segment: { borderColor: ctx => { const i = ctx.p0DataIndex; return (i>=s&&i<e) ? '#06b6d4' : 'rgba(6,182,212,0.25)'; } }
    }] },
    options: commonOptions('ë°©ë¬¸ììˆ˜')
  });

  // Return Visitors
  const rvCtx = document.getElementById('chartReturn').getContext('2d');
  charts.rv = new Chart(rvCtx, {
    type: 'line',
    data: { labels: DATA.months, datasets: [{
      data: DATA.returnVisitors, borderColor: '#22c55e',
      backgroundColor: gradient(rvCtx, 'rgba(34,197,94,0.15)', 'rgba(34,197,94,0)'),
      fill: true, tension: 0.4,
      pointBackgroundColor: DATA.months.map((_,i) => i>=s&&i<=e ? '#22c55e' : 'rgba(34,197,94,0.3)'),
      pointRadius: DATA.months.map((_,i) => i>=s&&i<=e ? 5 : 3),
    }] },
    options: commonOptions('ì¬ë°©ë¬¸ììˆ˜')
  });

  // Avg Time
  charts.at = new Chart(document.getElementById('chartAvgTime'), {
    type: 'bar',
    data: { labels: DATA.months, datasets: [{ data: DATA.avgTimeSeconds, backgroundColor: barColorsOrange, borderRadius: 6 }] },
    options: { ...commonOptions('ì´ˆ'), plugins: { legend: { display: false }, tooltip: { callbacks: { label: ctx => { const m = Math.floor(ctx.parsed.y/60); const sc = ctx.parsed.y%60; return `${m}ë¶„ ${sc}ì´ˆ`; } } } } }
  });

  // Daily Views
  charts.daily = new Chart(document.getElementById('chartDaily'), {
    type: 'line',
    data: { labels: dailyDates, datasets: [{
      data: dailyViews, borderColor: '#818cf8', backgroundColor: 'rgba(129,140,248,0.08)',
      fill: true, tension: 0.3, pointRadius: 0, borderWidth: 1.5,
    }] },
    options: { ...commonOptions('ì¡°íšŒìˆ˜'), aspectRatio: 3.5, scales: { x: { grid: { display: false }, ticks: { maxTicksLimit: 20, font: { size: 10 } } }, y: { grid: { color: gridColor }, beginAtZero: true } } }
  });

  // Traffic Pie - use selected range (average if multi-month)
  const count = e - s + 1;
  const avgTraffic = DATA.trafficChannels.map((_, ci) => {
    let sum = 0;
    for (let mi = s; mi <= e; mi++) sum += DATA.trafficByMonth[mi][ci];
    return +(sum / count).toFixed(1);
  });
  const pieLabel = s === e ? DATA.monthsLabel[s] : `${DATA.monthsFull[s]}~${DATA.monthsFull[e]} í‰ê· `;
  document.getElementById('trafficPieTitle').textContent = `ìœ ì… ì±„ë„ ë¹„ìœ¨ (${pieLabel})`;

  charts.pie = new Chart(document.getElementById('chartTrafficPie'), {
    type: 'doughnut',
    data: { labels: DATA.trafficChannels, datasets: [{ data: avgTraffic, backgroundColor: ['#6366f1','#818cf8','#a5b4fc','#06b6d4','#f59e0b','#64748b'], borderColor: '#1a1d27', borderWidth: 2 }] },
    options: { responsive: true, maintainAspectRatio: true, aspectRatio: 1.3, plugins: { legend: { position: 'right', labels: { padding: 12, font: { size: 12 } } }, tooltip: { callbacks: { label: ctx => ctx.label + ': ' + ctx.parsed + '%' } } } }
  });

  // Traffic Trend
  const naverTotal = DATA.months.map((_,i) => +(DATA.trafficByMonth[i][0]+DATA.trafficByMonth[i][1]+DATA.trafficByMonth[i][2]).toFixed(1));
  const bingTrend = DATA.months.map((_,i) => DATA.trafficByMonth[i][3]);
  const daumTrend = DATA.months.map((_,i) => DATA.trafficByMonth[i][4]);

  charts.traffic = new Chart(document.getElementById('chartTrafficTrend'), {
    type: 'line',
    data: { labels: DATA.months, datasets: [
      { label: 'ë„¤ì´ë²„(ì „ì²´)', data: naverTotal, borderColor: '#22c55e', tension: 0.3, pointRadius: 3 },
      { label: 'Bing', data: bingTrend, borderColor: '#06b6d4', tension: 0.3, pointRadius: 3 },
      { label: 'Daum', data: daumTrend, borderColor: '#f59e0b', tension: 0.3, pointRadius: 3 },
    ] },
    options: { ...commonOptions('%'), plugins: { legend: { display: true, position: 'top', labels: { boxWidth: 12, padding: 12 } } } }
  });

  // Gender
  charts.gender = new Chart(document.getElementById('chartGender'), {
    type: 'bar',
    data: { labels: DATA.months, datasets: [
      { label: 'ë‚¨ì„±', data: DATA.maleRatio, backgroundColor: DATA.months.map((_,i) => i>=s&&i<=e ? 'rgba(59,130,246,0.8)' : 'rgba(59,130,246,0.2)'), borderRadius: 4 },
      { label: 'ì—¬ì„±', data: DATA.femaleRatio, backgroundColor: DATA.months.map((_,i) => i>=s&&i<=e ? 'rgba(236,72,153,0.8)' : 'rgba(236,72,153,0.2)'), borderRadius: 4 },
    ] },
    options: { ...commonOptions('%'), scales: { x: { stacked: true, grid: { display: false } }, y: { stacked: true, max: 100, grid: { color: gridColor } } }, plugins: { legend: { display: true, position: 'top', labels: { boxWidth: 12 } } } }
  });

  // Age - show selected range average or single month
  const ageLabel = s === e ? DATA.monthsLabel[s] : `${DATA.monthsFull[s]}~${DATA.monthsFull[e]} í‰ê· `;
  document.getElementById('ageChartTitle').textContent = `ì—°ë ¹ë³„ ë¶„í¬ (${ageLabel})`;
  const ageM = DATA.ageGroups.map((_, ai) => {
    let sum = 0;
    for (let mi = s; mi <= e; mi++) sum += DATA.ageMale[mi][ai];
    return Math.round(sum / count);
  });
  const ageF = DATA.ageGroups.map((_, ai) => {
    let sum = 0;
    for (let mi = s; mi <= e; mi++) sum += DATA.ageFemale[mi][ai];
    return Math.round(sum / count);
  });

  charts.age = new Chart(document.getElementById('chartAge'), {
    type: 'bar',
    data: { labels: DATA.ageGroups, datasets: [
      { label: 'ë‚¨ì„±', data: ageM, backgroundColor: 'rgba(59,130,246,0.7)', borderRadius: 4 },
      { label: 'ì—¬ì„±', data: ageF, backgroundColor: 'rgba(236,72,153,0.7)', borderRadius: 4 },
    ] },
    options: { ...commonOptions('ì¡°íšŒìˆ˜'), plugins: { legend: { display: true, position: 'top', labels: { boxWidth: 12 } } } }
  });

  // Keywords
  const kws = s === e ? DATA.keywordsByMonth[s] : (() => {
    const merged = {};
    for (let mi = s; mi <= e; mi++) {
      DATA.keywordsByMonth[mi].forEach(k => { merged[k.keyword] = (merged[k.keyword] || 0) + k.pct; });
    }
    return Object.entries(merged).sort((a,b) => b[1]-a[1]).slice(0, 10).map(([keyword, pct]) => ({ keyword, pct: +(pct/count).toFixed(2) }));
  })();

  const kwPeriod = s === e ? DATA.monthsLabel[s] : `${DATA.monthsFull[s]}~${DATA.monthsFull[e]}`;
  document.getElementById('keywordsTitle').textContent = `ê²€ìƒ‰ ìœ ì… í‚¤ì›Œë“œ ë¶„ì„ (${kwPeriod})`;

  charts.kw = new Chart(document.getElementById('chartKeywords'), {
    type: 'bar',
    data: {
      labels: kws.map(k => k.keyword.length > 12 ? k.keyword.slice(0,12)+'â€¦' : k.keyword),
      datasets: [{ data: kws.map(k => k.pct), backgroundColor: 'rgba(168,85,247,0.5)', borderColor: '#a855f7', borderWidth: 1, borderRadius: 4 }]
    },
    options: { ...commonOptions('%'), indexAxis: 'y', aspectRatio: 1.5, scales: { x: { grid: { color: gridColor } }, y: { grid: { display: false } } } }
  });

  // Keywords table
  const kwTable = document.getElementById('keywordsTable');
  let kwHtml = '<thead><tr><th>í‚¤ì›Œë“œ</th><th style="text-align:right">ë¹„ìœ¨</th></tr></thead><tbody>';
  kws.forEach(k => { kwHtml += `<tr><td>${k.keyword}</td><td style="text-align:right">${k.pct}%</td></tr>`; });
  kwHtml += '</tbody>';
  kwTable.innerHTML = kwHtml;
}

// ===== TABLES =====
function renderTables() {
  const [s, e] = selectedRange;
  // Merge top posts from selected range
  let posts;
  if (s === e) {
    posts = DATA.topPostsByMonth[s];
  } else {
    const merged = {};
    for (let mi = s; mi <= e; mi++) {
      DATA.topPostsByMonth[mi].forEach(p => {
        if (!merged[p.title]) merged[p.title] = { title: p.title, views: 0, date: p.date };
        merged[p.title].views += p.views;
      });
    }
    posts = Object.values(merged).sort((a,b) => b.views - a.views).slice(0, 15).map((p, i) => ({ ...p, rank: i + 1 }));
  }

  const period = s === e ? DATA.monthsLabel[s] : `${DATA.monthsFull[s]}~${DATA.monthsFull[e]}`;
  document.getElementById('topPostsTitle').textContent = `ì¸ê¸° ê²Œì‹œë¬¼ (${period})`;

  const table = document.getElementById('topPostsTable');
  const maxViews = posts.length > 0 ? posts[0].views : 1;
  let html = '<thead><tr><th style="width:40px">ìˆœìœ„</th><th>ê²Œì‹œë¬¼ ì œëª©</th><th style="width:80px;text-align:right">ì¡°íšŒìˆ˜</th><th style="width:90px;text-align:right">ì‘ì„±ì¼</th></tr></thead><tbody>';
  posts.forEach(p => {
    const rankClass = p.rank <= 3 ? `rank-${p.rank}` : 'rank-default';
    html += `<tr>
      <td><span class="rank-badge ${rankClass}">${p.rank}</span></td>
      <td style="max-width:500px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">${p.title}</td>
      <td style="text-align:right"><div class="bar-cell" style="justify-content:flex-end"><div class="bar-fill" style="width:${(p.views/maxViews*80)}px"></div><span>${p.views}</span></div></td>
      <td style="text-align:right;color:var(--text-dim)">${p.date}</td>
    </tr>`;
  });
  html += '</tbody>';
  table.innerHTML = html;
}

// ===== INSIGHTS =====
function renderInsights() {
  const grid = document.getElementById('insightGrid');
  const insights = [
    { type: 'success', title: 'ì¬ë°©ë¬¸ìœ¨ ê¸‰ì¦ (1ì›” ìµœê³ ì¹˜)', text: '1ì›” ì¬ë°©ë¬¸ì 70ëª…ìœ¼ë¡œ 10ê°œì›” ì¤‘ ìµœê³ ì¹˜. ì¬ë°©ë¬¸ìœ¨ 6.2%ë¡œ ì „ì›”(2.3%) ëŒ€ë¹„ ì•½ 3ë°° ìƒìŠ¹. ì‹œë¦¬ì¦ˆ ì½˜í…ì¸ ì™€ ì‹¤ì „ Q&A í˜•ì‹ ê²Œì‹œë¬¼ì´ ì¶©ì„± ë…ì í™•ë³´ì— ê¸°ì—¬í•œ ê²ƒìœ¼ë¡œ ë¶„ì„ë©ë‹ˆë‹¤.' },
    { type: 'warning', title: '12ì›” í”¼í¬ í›„ 1ì›” ì¡°íšŒìˆ˜ í•˜ë½', text: '12ì›” 2,266ê±´ì—ì„œ 1ì›” 1,566ê±´ìœ¼ë¡œ 30.9% ê°ì†Œ. 12ì›” ì‚¬êµìœ¡ì¹´ë¥´í…” ìˆ˜ì‚¬ ê²°ê³¼ ê´€ë ¨ ì‹œì˜ì„± ë†’ì€ ì½˜í…ì¸ ê°€ ëŒ€ëŸ‰ ìœ ì…ì„ ê²¬ì¸í–ˆìœ¼ë‚˜, 1ì›”ì—ëŠ” í›„ì† ì½˜í…ì¸  ë°œí–‰ ë¹ˆë„ê°€ ë‚®ì•„ì§„ ì˜í–¥. ì§€ì†ì  ë°œí–‰ì´ í•„ìš”í•©ë‹ˆë‹¤.' },
    { type: 'info', title: 'ì‚¬êµìœ¡ ì¹´ë¥´í…” í‚¤ì›Œë“œ ì§€ì† ìœ ì…', text: '10ê°œì›” ì—°ì† "ì‚¬êµìœ¡ ì¹´ë¥´í…”" ê´€ë ¨ í‚¤ì›Œë“œê°€ ê²€ìƒ‰ ìœ ì… 1ìœ„. 1ì›” ìƒìœ„ 10ê°œ í‚¤ì›Œë“œ ì¤‘ 8ê°œê°€ ì‚¬êµìœ¡ì¹´ë¥´í…” ê´€ë ¨. ì´ ì£¼ì œê°€ ë¸”ë¡œê·¸ì˜ í•µì‹¬ íŠ¸ë˜í”½ ë™ë ¥ì„ì´ í™•ì¸ë©ë‹ˆë‹¤.' },
    { type: 'success', title: 'ë‚¨ì„± ë…ì ë¹„ìœ¨ ê¾¸ì¤€íˆ ìƒìŠ¹', text: '4ì›” 34.75%ì—ì„œ 1ì›” 42.42%ë¡œ ë‚¨ì„± ë¹„ìœ¨ì´ 7.7%p ì¦ê°€. íŠ¹íˆ 40-49ì„¸ ë‚¨ì„± ë…ìê°€ í¬ê²Œ ì¦ê°€í•˜ë©°, ì§•ê³„Â·ì†Œì²­ì‹¬ì‚¬ ë“± ì‹¤ë¬´ ì½˜í…ì¸ ì— ëŒ€í•œ ë‚¨ì„± êµì›ì˜ ê´€ì‹¬ì´ ë†’ì•„ì§€ê³  ìˆìŠµë‹ˆë‹¤.' },
    { type: 'info', title: '40-49ì„¸ í•µì‹¬ íƒ€ê²Ÿì¸µ í™•ì¸', text: '1ì›” ê¸°ì¤€ 40-49ì„¸ êµ¬ê°„ì´ ì „ì²´ ì¡°íšŒìˆ˜ì˜ 49.6%ë¥¼ ì°¨ì§€í•˜ë©° ìµœëŒ€ ë…ìì¸µ. ë‹¤ìŒìœ¼ë¡œ 35-39ì„¸(12.3%), 50-54ì„¸(14.5%) ìˆœ. ê²½ë ¥ ì¤‘ê²¬ êµì› ëŒ€ìƒ ì½˜í…ì¸  ê°•í™”ê°€ íš¨ê³¼ì ì…ë‹ˆë‹¤.' },
    { type: 'warning', title: 'ì£¼ë§ íŠ¸ë˜í”½ ê¸‰ê° íŒ¨í„´', text: 'ì£¼ë§(í† Â·ì¼) í‰ê·  ì¡°íšŒìˆ˜ ì•½ 25ê±´ìœ¼ë¡œ í‰ì¼(55ê±´) ëŒ€ë¹„ 55% ìˆ˜ì¤€. ê¸ˆìš”ì¼ ì €ë…~í† ìš”ì¼ ë°œí–‰ ì½˜í…ì¸ ëŠ” ë…¸ì¶œ íš¨ê³¼ê°€ ë‚®ìœ¼ë¯€ë¡œ, ì›”~ëª© ë°œí–‰ ì „ëµì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.' },
  ];
  insights.forEach(ins => {
    const box = document.createElement('div');
    box.className = `insight-box ${ins.type}`;
    box.innerHTML = `<h4>${ins.title}</h4><p>${ins.text}</p>`;
    grid.appendChild(box);
  });
}

// ===== INIT =====
initPeriodSelector();
renderKPIs();
renderDetailPanel();
renderAllCharts();
renderTables();
renderInsights();
</script>
</body>
</html>
